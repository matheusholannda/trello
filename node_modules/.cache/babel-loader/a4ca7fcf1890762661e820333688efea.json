{"ast":null,"code":"import _slicedToArray from \"/Users/matheusholannda/Documents/Trabalhos/react-trello-clone-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/matheusholannda/Documents/Trabalhos/react-trello-clone-main/src/auth/auth-hoc.js\";\n\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport React, { useEffect, useState, useContext } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { AuthUserContext } from './auth-user-context';\nimport { ROUTES } from '../application/constants';\nexport var withAuthentication = function withAuthentication(Component) {\n  return function (props) {\n    var _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        authUser = _useState2[0],\n        setAuthUser = _useState2[1];\n\n    useEffect(function () {\n      firebase.auth().onAuthStateChanged(function () {\n        var authUser = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        setAuthUser(authUser);\n      });\n    }, []);\n    return /*#__PURE__*/React.createElement(AuthUserContext.Provider, {\n      value: authUser,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 13\n      }\n    })));\n  };\n};\nexport var withAuthorization = function withAuthorization(authCondition) {\n  return function (Component) {\n    return withRouter(function (props) {\n      useEffect(function () {\n        firebase.auth().onAuthStateChanged(function (authUser) {\n          if (!authCondition(authUser)) {\n            props.history.push(ROUTES.SIGN_IN);\n          }\n        });\n      }, [props.history]);\n      var authUser = useContext(AuthUserContext);\n      return authUser ? /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 27\n        }\n      })) : null;\n    });\n  };\n};","map":{"version":3,"sources":["/Users/matheusholannda/Documents/Trabalhos/react-trello-clone-main/src/auth/auth-hoc.js"],"names":["firebase","React","useEffect","useState","useContext","withRouter","AuthUserContext","ROUTES","withAuthentication","Component","props","authUser","setAuthUser","auth","onAuthStateChanged","withAuthorization","authCondition","history","push","SIGN_IN"],"mappings":";;;;;AAAA,OAAOA,QAAP,MAAqB,qBAArB;AACA,OAAO,sBAAP;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,eAAT,QAAgC,qBAAhC;AACA,SAASC,MAAT,QAAuB,0BAAvB;AAEA,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,SAAD;AAAA,SAAe,UAACC,KAAD,EAAW;AACxD,oBAAgCP,QAAQ,CAAC,IAAD,CAAxC;AAAA;AAAA,QAAOQ,QAAP;AAAA,QAAiBC,WAAjB;;AAEAV,IAAAA,SAAS,CAAC,YAAM;AACZF,MAAAA,QAAQ,CAACa,IAAT,GAAgBC,kBAAhB,CAAmC,YAAqB;AAAA,YAApBH,QAAoB,uEAAT,IAAS;AACpDC,QAAAA,WAAW,CAACD,QAAD,CAAX;AACH,OAFD;AAGH,KAJQ,EAIN,EAJM,CAAT;AAMA,wBACI,oBAAC,eAAD,CAAiB,QAAjB;AAA0B,MAAA,KAAK,EAAEA,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD,oBAAeD,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADJ,CADJ;AAKH,GAdiC;AAAA,CAA3B;AAgBP,OAAO,IAAMK,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,aAAD;AAAA,SAAmB,UAACP,SAAD;AAAA,WAChDJ,UAAU,CAAC,UAACK,KAAD,EAAW;AAClBR,MAAAA,SAAS,CAAC,YAAM;AACZF,QAAAA,QAAQ,CAACa,IAAT,GAAgBC,kBAAhB,CAAmC,UAACH,QAAD,EAAc;AAC7C,cAAI,CAACK,aAAa,CAACL,QAAD,CAAlB,EAA8B;AAC1BD,YAAAA,KAAK,CAACO,OAAN,CAAcC,IAAd,CAAmBX,MAAM,CAACY,OAA1B;AACH;AACJ,SAJD;AAKH,OANQ,EAMN,CAACT,KAAK,CAACO,OAAP,CANM,CAAT;AAOA,UAAMN,QAAQ,GAAGP,UAAU,CAACE,eAAD,CAA3B;AAEA,aAAOK,QAAQ,gBAAG,oBAAC,SAAD,oBAAeD,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAH,GAA8B,IAA7C;AACH,KAXS,CADsC;AAAA,GAAnB;AAAA,CAA1B","sourcesContent":["import firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport React, { useEffect, useState, useContext } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { AuthUserContext } from './auth-user-context';\nimport { ROUTES } from '../application/constants';\n\nexport const withAuthentication = (Component) => (props) => {\n    const [authUser, setAuthUser] = useState(null);\n\n    useEffect(() => {\n        firebase.auth().onAuthStateChanged((authUser = null) => {\n            setAuthUser(authUser);\n        });\n    }, []);\n\n    return (\n        <AuthUserContext.Provider value={authUser}>\n            <Component {...props} />\n        </AuthUserContext.Provider>\n    );\n};\n\nexport const withAuthorization = (authCondition) => (Component) =>\n    withRouter((props) => {\n        useEffect(() => {\n            firebase.auth().onAuthStateChanged((authUser) => {\n                if (!authCondition(authUser)) {\n                    props.history.push(ROUTES.SIGN_IN);\n                }\n            });\n        }, [props.history]);\n        const authUser = useContext(AuthUserContext);\n\n        return authUser ? <Component {...props} /> : null;\n    });\n"]},"metadata":{},"sourceType":"module"}