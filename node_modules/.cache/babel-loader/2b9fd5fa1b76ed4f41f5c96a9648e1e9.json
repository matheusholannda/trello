{"ast":null,"code":"import _regeneratorRuntime from \"/Users/matheusholannda/Documents/Trabalhos/react-trello-clone-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matheusholannda/Documents/Trabalhos/react-trello-clone-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/matheusholannda/Documents/Trabalhos/react-trello-clone-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/matheusholannda/Documents/Trabalhos/react-trello-clone-main/src/pages/SignInPage.js\";\n\nimport { Button, Form, Input } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { auth, provider } from '../application/services/firebase';\nimport { actionTypes } from '../auth/reducer';\nimport { useStateValue } from '../application/state-provider';\nimport { authService } from '../application/services';\nimport { ROUTES } from '../application/constants';\n\nvar SignInForm = function SignInForm() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loading = _useState8[0],\n      setLoading = _useState8[1];\n\n  var _useStateValue = useStateValue(),\n      _useStateValue2 = _slicedToArray(_useStateValue, 2),\n      dispatch = _useStateValue2[1];\n\n  var history = useHistory();\n\n  var signInWithGoogle = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              _context.prev = 1;\n              setLoading(true);\n              _context.next = 5;\n              return auth.signInWithPopup(provider);\n\n            case 5:\n              result = _context.sent;\n              dispatch({\n                type: actionTypes.SET_USER,\n                user: result.user\n              });\n              history.push(ROUTES.BOARDS);\n              setLoading(false);\n              _context.next = 15;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](1);\n              setError(_context.t0.message);\n              setLoading(false);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 11]]);\n    }));\n\n    return function signInWithGoogle(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              setLoading(true);\n              _context2.next = 4;\n              return authService.signInWithEmailAndPassword(email, password);\n\n            case 4:\n              _context2.next = 10;\n              break;\n\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](0);\n              setError(_context2.t0.message);\n              setLoading(false);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 6]]);\n    }));\n\n    return function onFinish() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-xl mb-3 text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, \"Bem vindo!\"), /*#__PURE__*/React.createElement(Form, {\n    onFinish: onFinish,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(UserOutlined, {\n      style: {\n        color: 'rgba(0,0,0,.25)'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 33\n      }\n    }),\n    placeholder: \"Email\",\n    onChange: function onChange(event) {\n      return setEmail(event.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(LockOutlined, {\n      style: {\n        color: 'rgba(0,0,0,.25)'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 33\n      }\n    }),\n    onChange: function onChange(event) {\n      return setPassword(event.target.value);\n    },\n    type: \"password\",\n    placeholder: \"Senha\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-red-500\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, error)), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: \"w-full my-2\",\n    disabled: loading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, \"Entrar\"), /*#__PURE__*/React.createElement(Button, {\n    type: \"danger\",\n    htmlType: \"submit\",\n    className: \"w-full mb-2\",\n    onClick: signInWithGoogle,\n    disabled: loading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, \"Continue com Google\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, \"N\\xE3o tem uma conta? \", /*#__PURE__*/React.createElement(Link, {\n    to: ROUTES.SIGN_UP,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 44\n    }\n  }, \"Cadastre-se!\")))));\n};\n\nexport var SignInPage = function SignInPage(_ref3) {\n  var history = _ref3.history;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex h-full\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-64 m-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SignInForm, {\n    history: history,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  })));\n};","map":{"version":3,"sources":["/Users/matheusholannda/Documents/Trabalhos/react-trello-clone-main/src/pages/SignInPage.js"],"names":["Button","Form","Input","UserOutlined","LockOutlined","React","useState","Link","useHistory","auth","provider","actionTypes","useStateValue","authService","ROUTES","SignInForm","email","setEmail","password","setPassword","error","setError","loading","setLoading","dispatch","history","signInWithGoogle","event","preventDefault","signInWithPopup","result","type","SET_USER","user","push","BOARDS","message","onFinish","signInWithEmailAndPassword","color","target","value","SIGN_UP","SignInPage"],"mappings":";;;;;;;AAAA,SAASA,MAAT,EAAiBC,IAAjB,EAAuBC,KAAvB,QAAoC,MAApC;AACA,SAASC,YAAT,EAAuBC,YAAvB,QAA2C,mBAA3C;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,kCAA/B;AACA,SAASC,WAAT,QAA4B,iBAA5B;AACA,SAASC,aAAT,QAA8B,+BAA9B;AACA,SAASC,WAAT,QAA4B,yBAA5B;AACA,SAASC,MAAT,QAAuB,0BAAvB;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACrB,kBAA0BT,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOU,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAAgCX,QAAQ,CAAC,EAAD,CAAxC;AAAA;AAAA,MAAOY,QAAP;AAAA,MAAiBC,WAAjB;;AACA,mBAA0Bb,QAAQ,CAAC,IAAD,CAAlC;AAAA;AAAA,MAAOc,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAA8Bf,QAAQ,CAAC,KAAD,CAAtC;AAAA;AAAA,MAAOgB,OAAP;AAAA,MAAgBC,UAAhB;;AACA,uBAAqBX,aAAa,EAAlC;AAAA;AAAA,MAASY,QAAT;;AACA,MAAMC,OAAO,GAAGjB,UAAU,EAA1B;;AAEA,MAAMkB,gBAAgB;AAAA,wEAAG,iBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACrBA,cAAAA,KAAK,CAACC,cAAN;AADqB;AAGjBL,cAAAA,UAAU,CAAC,IAAD,CAAV;AAHiB;AAAA,qBAIId,IAAI,CAACoB,eAAL,CAAqBnB,QAArB,CAJJ;;AAAA;AAIXoB,cAAAA,MAJW;AAKjBN,cAAAA,QAAQ,CAAC;AACLO,gBAAAA,IAAI,EAAEpB,WAAW,CAACqB,QADb;AAELC,gBAAAA,IAAI,EAAEH,MAAM,CAACG;AAFR,eAAD,CAAR;AAIAR,cAAAA,OAAO,CAACS,IAAR,CAAapB,MAAM,CAACqB,MAApB;AACAZ,cAAAA,UAAU,CAAC,KAAD,CAAV;AAViB;AAAA;;AAAA;AAAA;AAAA;AAYjBF,cAAAA,QAAQ,CAAC,YAAMe,OAAP,CAAR;AACAb,cAAAA,UAAU,CAAC,KAAD,CAAV;;AAbiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAhBG,gBAAgB;AAAA;AAAA;AAAA,KAAtB;;AAiBA,MAAMW,QAAQ;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAETd,cAAAA,UAAU,CAAC,IAAD,CAAV;AAFS;AAAA,qBAGHV,WAAW,CAACyB,0BAAZ,CAAuCtB,KAAvC,EAA8CE,QAA9C,CAHG;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAKTG,cAAAA,QAAQ,CAAC,aAAMe,OAAP,CAAR;AACAb,cAAAA,UAAU,CAAC,KAAD,CAAV;;AANS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARc,QAAQ;AAAA;AAAA;AAAA,KAAd;;AAUA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,4BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAGI,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAEA,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,IAAI,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AACI,IAAA,MAAM,eAAE,oBAAC,YAAD;AAAc,MAAA,KAAK,EAAE;AAAEE,QAAAA,KAAK,EAAE;AAAT,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADZ;AAEI,IAAA,WAAW,EAAC,OAFhB;AAGI,IAAA,QAAQ,EAAE,kBAACZ,KAAD;AAAA,aAAWV,QAAQ,CAACU,KAAK,CAACa,MAAN,CAAaC,KAAd,CAAnB;AAAA,KAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eASI,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,IAAI,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AACI,IAAA,MAAM,eAAE,oBAAC,YAAD;AAAc,MAAA,KAAK,EAAE;AAAEF,QAAAA,KAAK,EAAE;AAAT,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADZ;AAEI,IAAA,QAAQ,EAAE,kBAACZ,KAAD;AAAA,aAAWR,WAAW,CAACQ,KAAK,CAACa,MAAN,CAAaC,KAAd,CAAtB;AAAA,KAFd;AAGI,IAAA,IAAI,EAAC,UAHT;AAII,IAAA,WAAW,EAAC,OAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAQI;AAAK,IAAA,SAAS,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiCrB,KAAjC,CARJ,CATJ,eAoBI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AACI,IAAA,IAAI,EAAC,SADT;AAEI,IAAA,QAAQ,EAAC,QAFb;AAGI,IAAA,SAAS,eAHb;AAII,IAAA,QAAQ,EAAEE,OAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eASI,oBAAC,MAAD;AACI,IAAA,IAAI,EAAC,QADT;AAEI,IAAA,QAAQ,EAAC,QAFb;AAGI,IAAA,SAAS,eAHb;AAII,IAAA,OAAO,EAAEI,gBAJb;AAKI,IAAA,QAAQ,EAAEJ,OALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BATJ,eAkBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CACuB,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAER,MAAM,CAAC4B,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADvB,CAlBJ,CApBJ,CAHJ,CADJ;AAiDH,CApFD;;AAsFA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA,MAAGlB,OAAH,SAAGA,OAAH;AAAA,sBACtB;AAAK,IAAA,SAAS,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAEA,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CADsB;AAAA,CAAnB","sourcesContent":["import { Button, Form, Input } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { auth, provider } from '../application/services/firebase';\nimport { actionTypes } from '../auth/reducer';\nimport { useStateValue } from '../application/state-provider';\nimport { authService } from '../application/services';\nimport { ROUTES } from '../application/constants';\n\nconst SignInForm = () => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [, dispatch] = useStateValue();\n    const history = useHistory();\n\n    const signInWithGoogle = async (event) => {\n        event.preventDefault();\n        try {\n            setLoading(true);\n            const result = await auth.signInWithPopup(provider);\n            dispatch({\n                type: actionTypes.SET_USER,\n                user: result.user,\n            });\n            history.push(ROUTES.BOARDS);\n            setLoading(false);\n        } catch (error) {\n            setError(error.message);\n            setLoading(false);\n        }\n    };\n\n    const onFinish = async () => {\n        try {\n            setLoading(true);\n            await authService.signInWithEmailAndPassword(email, password);\n        } catch (error) {\n            setError(error.message);\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div>\n            <h1 className={`text-xl mb-3 text-center`}>Bem vindo!</h1>\n\n            <Form onFinish={onFinish}>\n                <Form.Item name=\"email\">\n                    <Input\n                        prefix={<UserOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n                        placeholder=\"Email\"\n                        onChange={(event) => setEmail(event.target.value)}\n                    />\n                </Form.Item>\n\n                <Form.Item name=\"password\">\n                    <Input\n                        prefix={<LockOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n                        onChange={(event) => setPassword(event.target.value)}\n                        type=\"password\"\n                        placeholder=\"Senha\"\n                    />\n\n                    <div className={`text-red-500`}>{error}</div>\n                </Form.Item>\n\n                <Form.Item>\n                    <Button\n                        type=\"primary\"\n                        htmlType=\"submit\"\n                        className={`w-full my-2`}\n                        disabled={loading}\n                    >\n                        Entrar\n                    </Button>\n                    <Button\n                        type=\"danger\"\n                        htmlType=\"submit\"\n                        className={`w-full mb-2`}\n                        onClick={signInWithGoogle}\n                        disabled={loading}\n                    >\n                        Continue com Google\n                    </Button>\n                    <p>\n                        NÃ£o tem uma conta? <Link to={ROUTES.SIGN_UP}>Cadastre-se!</Link>\n                    </p>\n                </Form.Item>\n            </Form>\n        </div>\n    );\n};\n\nexport const SignInPage = ({ history }) => (\n    <div className={`flex h-full`}>\n        <div className={`w-64 m-auto`}>\n            <SignInForm history={history} />\n        </div>\n    </div>\n);\n"]},"metadata":{},"sourceType":"module"}